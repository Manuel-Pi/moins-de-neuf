import React, { CSSProperties } from 'react';
import {CardModel} from './CardModel';
import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';

type CardProps = {
    cardModel: CardModel
    style?: CSSProperties 
    className?: string
    onClick?: (event: React.MouseEvent<HTMLDivElement, MouseEvent>) => void,
    ref?: any
}

export const Card = ({ cardModel, onClick, style, className = "", ref = null }: CardProps) => {

    let value = "";
    let values = [];
    let symbols = [];

    if(!cardModel) return null;

    if(cardModel.isTurned()){
        value = cardModel.getValue();
        for(let i = 0; i < 4; i++){
            values.push(<div className="value">
                            <span className={cardModel.getColor()}>{value}</span>
                            {getColorIcon(cardModel.getColor())}
                        </div>
            );
        }
        if(cardModel.getIntValue()Â < 11 && cardModel.getIntValue()){
            for(let i = 0; i < cardModel.getIntValue(); i++){
                symbols.push(getColorIcon(cardModel.getColor()));
            }
        } else {
            switch(cardModel.getValue()){
                case "J":
                    symbols.push(<FontAwesomeIcon icon="graduation-cap" size="lg"  className={cardModel.getColor()}/>)
                    break;

                case "Q":
                    symbols.push(<FontAwesomeIcon icon="chess-queen" size="lg"  className={cardModel.getColor()}/>)
                    break;

                case "K":
                    symbols.push(<FontAwesomeIcon icon="chess-king" size="lg" className={cardModel.getColor()}/>)
                    break;
                
                case "*":
                    symbols.push(<FontAwesomeIcon icon="cannabis" size="lg" className={cardModel.getColor()}/>)
                    break;
            }
            
        }
    } else {
        symbols.push(<FontAwesomeIcon icon="carrot" size="lg"/>);
    }

    return  <div ref={ref} className={cardModel.isTurned() ? "card turn " + className : "card notTurned " + className} onClick={onClick} style={style}>
                {values}
                <div className={`symbol value-${value}`}>
                    {symbols}
                </div>
            </div>
}

const getColorIcon = (color: string) => {
    switch(color){
        case "spade":
            return <svg className="icon spade" viewBox="0 0 61.37698 65.616333">
                        <g
                        transform="translate(-118.23413,-111.57874)"
                        id="layer1">
                        <path
                            style={{strokeWidth: 0}}
                            d="m 149.96031,111.8504 c -0.64426,-0.36222 -1.4306,-0.36222 -2.07486,0 -1.21073,0.68077 -29.65132,16.90079 -29.65132,36.73078 0,9.77291 7.97851,17.72364 17.78529,17.72364 1.97485,0 3.89467,-0.31538 5.71156,-0.93001 -1.44224,3.01731 -3.34698,5.81422 -5.63801,8.25527 -0.57758,0.61542 -0.73422,1.515 -0.39899,2.28944 0.33523,0.77443 1.09855,1.27555 1.94231,1.27555 h 22.73776 c 0.84376,0 1.60708,-0.50138 1.94231,-1.27555 0.33549,-0.77444 0.17859,-1.67402 -0.399,-2.28944 -2.27435,-2.42332 -4.16956,-5.19986 -5.60863,-8.19494 1.76186,0.57441 3.61632,0.86942 5.51735,0.86942 9.80678,0 17.78503,-7.95073 17.78503,-17.72365 2.7e-4,-19.82972 -28.44006,-36.04974 -29.6508,-36.73051 z"
                            id="path97" />
                        <path
                            id="path97-5"
                            d="m 149.96031,111.8504 c -0.64426,-0.36223 -1.4306,-0.36223 -2.07486,0 -1.21073,0.68077 -29.65132,16.90078 -29.65132,36.73076 0,9.77292 7.97851,17.72365 17.78529,17.72365 1.97485,0 3.89467,-0.31538 5.71156,-0.93001 -1.44224,3.01731 -3.34698,5.81422 -5.63801,8.25527 -0.57758,0.61542 -0.73422,1.515 -0.39899,2.28943 0.33523,0.77444 1.09855,1.27556 1.94231,1.27556 h 22.73776 c 0.84376,0 1.60708,-0.50138 1.94231,-1.27556 0.33549,-0.77443 0.17859,-1.67401 -0.399,-2.28943 -2.27435,-2.42332 -4.16956,-5.19986 -5.60863,-8.19494 1.76186,0.57441 3.61632,0.86942 5.51735,0.86942 9.80678,0 17.78503,-7.95074 17.78503,-17.72366 2.7e-4,-19.82971 -28.44006,-36.04972 -29.6508,-36.73049 z m 11.86604,50.22108 c -2.98265,0 -5.81528,-0.95329 -8.19177,-2.75617 -0.72707,-0.55139 -1.72534,-0.5752 -2.47755,-0.0587 -0.75222,0.51647 -1.08877,1.45707 -0.83503,2.33364 1.17951,4.07326 3.07631,7.93723 5.56551,11.37179 h -13.76389 c 2.5236,-3.48166 4.43706,-7.40279 5.61314,-11.53822 0.25082,-0.88211 -0.0947,-1.82536 -0.85646,-2.33654 -0.76147,-0.51117 -1.76556,-0.47359 -2.48682,0.0929 -2.4085,1.89152 -5.3041,2.89164 -8.37406,2.89164 -7.47263,0 -13.55196,-6.05181 -13.55196,-13.49031 0,-8.91779 7.35304,-17.35905 13.52153,-22.87005 5.32739,-4.7596 10.72542,-8.21479 12.93389,-9.55649 2.20848,1.3417 7.60651,4.79689 12.9339,9.55649 11.17547,9.98458 13.52126,17.94773 13.52126,22.87005 0,7.43822 -6.07933,13.49005 -13.55169,13.49005 z"
                            style={{strokeWidth: 0}} />
                        </g>
                    </svg>
        
        case "heart":
            return <svg className="icon heart" viewBox="0 0 63.448669 59.266666">
                        <g
                        transform="translate(-37.067331,47.020238)">
                        <path
                            style={{strokeWidth: 0}}
                            d="m 82.16265,-47.020238 c -5.10249,0 -9.927432,2.213239 -13.371248,6.033558 -3.443817,-3.820319 -8.268494,-6.033558 -13.371248,-6.033558 -10.119519,0 -18.352823,8.580173 -18.352823,19.126994 0,9.11516 5.205677,18.6192577 15.472569,28.24770974 7.485591,7.02045396 14.863762,11.41386126 15.174383,11.59721726 0.332317,0.196585 0.70485,0.294746 1.077383,0.294746 0.372534,0 0.745067,-0.09816 1.077384,-0.294746 C 70.179406,11.768327 77.557577,7.3749197 85.043433,0.35446574 95.310325,-9.2739863 100.516,-18.778084 100.516,-27.893244 c 0,-10.546821 -8.233302,-19.126994 -18.35335,-19.126994 z"
                            id="path93" />
                        <path
                            id="path93-8"
                            d="m 82.162652,-47.020238 c -5.10249,0 -9.92743,2.213239 -13.37125,6.033558 -3.44381,-3.820319 -8.26849,-6.033558 -13.37125,-6.033558 -10.11951,0 -18.35282,8.580173 -18.35282,19.126994 0,9.11516 5.20568,18.619259 15.47257,28.247711 7.48559,7.020454 14.86376,11.41386 15.17438,11.597216 0.33232,0.196585 0.70485,0.294746 1.07739,0.294746 0.37253,0 0.74506,-0.09816 1.07738,-0.294746 0.31036,-0.183356 7.68853,-4.576762 15.17438,-11.597216 10.2669,-9.628452 15.472568,-19.132551 15.472568,-28.247711 0,-10.546821 -8.233298,-19.126994 -18.353348,-19.126994 z m -13.37098,54.65498 c -5.20991,-3.338777 -27.491,-18.61238 -27.491,-35.527986 0,-8.212402 6.33412,-14.893661 14.11975,-14.893661 4.62068,0 8.95826,2.398977 11.60304,6.417469 0.39158,0.594783 1.05595,0.953029 1.76821,0.953029 0.71226,0 1.37662,-0.358246 1.76821,-0.953029 2.64477,-4.018492 6.98235,-6.417469 11.60303,-6.417469 7.78563,0 14.11976,6.681259 14.11976,14.893661 0,16.915606 -22.28162,32.189473 -27.491,35.527986 z"
                            style={{strokeWidth: 0}} />
                        </g>
                    </svg>
        case "club":
            return <svg className="icon club" viewBox="0 0 63.503868 63.504364">
                    <g transform="translate(-74.081402,-116.41448)">
                    <path
                        style={{strokeWidth: 0}}
                        d="m 123.89351,140.33877 c -5.21732,-0.29845 -10.15154,2.22144 -12.98443,6.51907 0.17039,-0.64241 0.36142,-1.27926 0.57256,-1.91003 0.14526,-0.43391 0.47413,-0.79904 0.92631,-1.02843 5.15778,-2.61779 8.27643,-8.03963 7.94543,-13.81284 -0.4228,-7.37314 -6.53732,-13.38183 -13.92026,-13.67975 -4.00208,-0.16166 -7.791974,1.27397 -10.673551,4.04151 -2.8829,2.76886 -4.4704,6.49446 -4.4704,10.49073 0,5.50756 3.0607,10.47697 7.98777,12.96908 0.440002,0.22278 0.761211,0.58023 0.904081,1.007 0.21273,0.63474 0.40508,1.27609 0.57653,1.92247 -2.832896,-4.2971 -7.768963,-6.81805 -12.984165,-6.51881 -7.373408,0.42281 -13.382096,6.53759 -13.679752,13.92052 -0.161131,4.0013 1.274233,7.79198 4.041775,10.6733 2.768864,2.8829 6.494463,4.4704 10.490465,4.4704 4.945327,0 9.463881,-2.47306 12.137227,-6.54924 -1.330586,5.01756 -3.907892,9.68719 -7.499346,13.49614 -0.579438,0.61462 -0.738188,1.515 -0.403225,2.29076 0.334962,0.77576 1.09855,1.2782 1.943365,1.2782 h 3.381639 15.295567 3.38164 c 0.84481,0 1.60866,-0.50244 1.94336,-1.2782 0.3347,-0.77576 0.17621,-1.67587 -0.40323,-2.29076 -3.59145,-3.80895 -6.16849,-8.47884 -7.49935,-13.49614 2.67335,4.07618 7.19217,6.54924 12.1375,6.54924 3.996,0 7.7216,-1.5875 10.49047,-4.4704 2.76754,-2.88158 4.2029,-6.672 4.04151,-10.6733 -0.2974,-7.38293 -6.30635,-13.49771 -13.67949,-13.92052 z"
                        id="path91" />
                    <path
                        id="path91-6"
                        d="m 123.89351,140.33877 c -5.21732,-0.29845 -10.15154,2.22144 -12.98443,6.51907 0.17039,-0.64241 0.36142,-1.27927 0.57256,-1.91003 0.14526,-0.43391 0.47413,-0.79904 0.92631,-1.02843 5.15778,-2.61779 8.27643,-8.03963 7.94543,-13.81284 -0.4228,-7.37314 -6.53732,-13.38183 -13.92026,-13.67975 -4.00208,-0.16166 -7.79198,1.27397 -10.67356,4.04151 -2.8829,2.76886 -4.4704,6.49446 -4.4704,10.49073 0,5.50756 3.0607,10.47697 7.98777,12.96908 0.44001,0.22278 0.76122,0.58023 0.90409,1.007 0.21273,0.63474 0.40508,1.27609 0.57653,1.92247 -2.8329,-4.2971 -7.76897,-6.81805 -12.98417,-6.51881 -7.37341,0.42281 -13.3821,6.53759 -13.67976,13.92052 -0.16113,4.0013 1.27424,7.79198 4.04178,10.6733 2.76886,2.8829 6.49446,4.4704 10.49046,4.4704 4.94534,0 9.46389,-2.47306 12.13724,-6.54924 -1.33059,5.01756 -3.9079,9.68719 -7.49935,13.49614 -0.57944,0.61462 -0.73819,1.515 -0.40323,2.29076 0.33497,0.77576 1.09855,1.2782 1.94337,1.2782 h 3.38164 15.29557 3.38164 c 0.84481,0 1.60866,-0.50244 1.94336,-1.2782 0.3347,-0.77576 0.17621,-1.67587 -0.40323,-2.29076 -3.59145,-3.80895 -6.16849,-8.47884 -7.49935,-13.49614 2.67335,4.07618 7.19217,6.54924 12.1375,6.54924 3.996,0 7.7216,-1.5875 10.49047,-4.4704 2.76754,-2.88158 4.2029,-6.672 4.04151,-10.6733 -0.2974,-7.38293 -6.30635,-13.49771 -13.67949,-13.92052 z m -28.37128,-9.37948 c 0,-2.83316 1.12554,-5.47449 3.16945,-7.43743 1.93887,-1.86241 4.45955,-2.87364 7.13899,-2.87364 0.1434,0 0.28734,0.003 0.43153,0.009 5.23187,0.21113 9.56496,4.46854 9.86446,9.69221 0.23469,4.09416 -1.97696,7.93883 -5.63483,9.79541 -1.44991,0.7358 -2.52412,1.96426 -3.02498,3.45942 -0.812,2.42597 -1.36101,4.93819 -1.6338,7.47422 -0.27331,-2.54053 -0.82391,-5.05725 -1.63856,-7.48824 -0.49927,-1.48907 -1.56713,-2.71065 -3.00726,-3.43905 -3.49409,-1.76768 -5.665,-5.28982 -5.665,-9.19163 z m 16.85291,44.72623 H 99.29122 c 3.60707,-4.99957 5.88752,-10.89845 6.54183,-17.03414 0.65458,6.13569 2.93502,12.03431 6.54209,17.03414 z m 18.10332,-13.68558 c -1.96321,2.04391 -4.60455,3.16945 -7.43744,3.16945 -3.8862,0 -7.40198,-2.15794 -9.17469,-5.63193 -0.74957,-1.46922 -1.99046,-2.55216 -3.49382,-3.04905 -0.62098,-0.20505 -1.26842,-0.40005 -1.92432,-0.57891 -0.18388,-0.05 -0.37094,-0.0746 -0.55695,-0.0746 -0.49159,0 -0.97472,0.17145 -1.36048,0.49504 -0.35137,0.29473 -0.59241,0.69056 -0.69718,1.12474 -0.10478,-0.43418 -0.34581,-0.83001 -0.69718,-1.12474 -0.53181,-0.44609 -1.2483,-0.60299 -1.9177,-0.42043 -0.65616,0.17913 -1.3036,0.37386 -1.92458,0.57918 -1.50284,0.49688 -2.74373,1.57982 -3.49356,3.04905 -1.77297,3.47398 -5.28849,5.63192 -9.1747,5.63192 -2.83289,0 -5.47423,-1.12553 -7.43743,-3.16944 -1.96189,-2.04258 -2.97948,-4.73101 -2.86491,-7.57026 0.21087,-5.23187 4.46828,-9.56522 9.69222,-9.86472 4.08543,-0.2339 7.92718,1.97088 9.78694,5.6179 0.74718,1.46605 1.98437,2.54661 3.48324,3.04269 0.62283,0.20612 1.27291,0.40191 1.93199,0.58183 0.67045,0.18283 1.38721,0.0254 1.91876,-0.42122 0.35136,-0.29527 0.59213,-0.69188 0.69664,-1.12659 0.10451,0.43471 0.34529,0.83132 0.69665,1.12632 0.53181,0.44689 1.24884,0.60432 1.91876,0.42149 0.65855,-0.17965 1.3081,-0.37518 1.93093,-0.58129 1.49939,-0.49609 2.73711,-1.57718 3.48483,-3.04376 1.85949,-3.64649 5.70071,-5.85179 9.78641,-5.61711 5.22393,0.29951 9.48134,4.63259 9.69221,9.86473 0.11457,2.83898 -0.90276,5.52741 -2.86464,7.56973 z"
                        style={{strokeWidth: 0}} />
                    </g>
                </svg>
        case "diamond":
            return  <svg className="icon diamond" viewBox="0 0 63.499996 63.5">
                        <g
                        id="layer1"
                        transform="translate(-74.083333,-116.05747)"
                        style={{display: "inline"}}>
                        <path
                            id="path95"
                            d="m 74.954871,149.51932 c 9.626599,7.00114 22.165472,19.54001 29.166609,29.16634 0.3982,0.54769 1.03452,0.87181 1.71185,0.87181 0.67734,0 1.3134,-0.32412 1.71186,-0.87181 7.00114,-9.62633 19.54001,-22.1652 29.16661,-29.16634 0.54768,-0.3982 0.87153,-1.03452 0.87153,-1.71185 0,-0.67734 -0.32411,-1.3134 -0.87153,-1.71186 -9.6266,-7.00087 -22.16574,-19.54001 -29.16661,-29.16634 -0.3982,-0.54769 -1.03452,-0.8718 -1.71186,-0.8718 -0.67733,0 -1.31339,0.32411 -1.71185,0.8718 -7.001137,9.62633 -19.54001,22.1652 -29.166609,29.16634 -0.547688,0.3982 -0.871538,1.03452 -0.871538,1.71186 0,0.67733 0.32385,1.31365 0.871538,1.71185 z"
                            style={{fillOpacity: 1, strokeWidth: 0}} />
                        <path
                            style={{display: "inline", fillOpacity: 1, strokeWidth: 0}}
                            d="m 74.954871,149.51932 c 9.626599,7.00114 22.165472,19.54001 29.166609,29.16634 0.3982,0.54769 1.03452,0.87181 1.71186,0.87181 0.67733,0 1.3134,-0.32412 1.71186,-0.87181 7.00114,-9.62633 19.54,-22.1652 29.1666,-29.16634 0.54768,-0.3982 0.87153,-1.03452 0.87153,-1.71185 0,-0.67734 -0.32411,-1.3134 -0.87153,-1.71186 -9.6266,-7.00087 -22.16573,-19.54001 -29.1666,-29.16634 -0.3982,-0.54769 -1.03453,-0.8718 -1.71186,-0.8718 -0.67734,0 -1.3134,0.32411 -1.71186,0.8718 -7.001137,9.62633 -19.54001,22.1652 -29.166609,29.16634 -0.547688,0.3982 -0.871538,1.03452 -0.871538,1.71186 0,0.67733 0.32385,1.31365 0.871538,1.71185 z m 30.878469,-27.82305 c 6.8908,8.89079 17.22014,19.22012 26.11119,26.1112 -8.89105,6.89107 -19.22039,17.2204 -26.11119,26.1112 -6.890817,-8.8908 -17.220149,-19.22013 -26.111207,-26.1112 8.890794,-6.89108 19.22013,-17.22041 26.111207,-26.1112 z"
                            id="path95-0" />
                        </g>
                    </svg>
    }
}